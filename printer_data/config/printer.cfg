#####################################################################
#   Board Details
#####################################################################

# Voron Leviathan V1.2
# Firmware should be compiled for the STM32F446 with "No bootloader"
# Enable "extra low-level configuration options" and select the "12MHz crystal" as clock reference

# BigTreeTech SB2209 (RP2040)
# Firmware should be compiled for the RP2040 with "USB" or "CAN bus (on gpio4/gpio5)"

#####################################################################
#   Klipper Includes
#####################################################################

[include mainsail.cfg]
[include stealthburner_leds.cfg]
[exclude_object]
[skew_correction]
[auto_speed]
#[include adxl.cfg]
[include shaketune.cfg]
[include auto_speed.cfg]
[include nevermore.cfg]
[include nozzle_scrub.cfg]

#####################################################################
#   MCU Settings
#####################################################################

[mcu] # Obtain definition by "ls -l /dev/serial/by-id/" then unplug to verify
canbus_uuid: e7d3a6f906c6

[mcu EBBCan]
canbus_uuid: 91e36b20c680

#####################################################################
#   Printer Settings
#####################################################################

[printer]
kinematics: corexy
max_velocity: 500 #Recommended velocity: 710
max_accel: 30000  #Recommended accel: 46174
max_z_velocity: 15  #Max 15 for 12V TMC Drivers, can increase for 24V
max_z_accel: 350
square_corner_velocity: 5.0

#####################################################################
#   X/Y Stepper Settings
#####################################################################

##  B Stepper - Left - LDO-42STH48-2504MAC(F)
##  Connected to HV STEPPER 0
##  Endstop connected to EBBCan:gpio24
[stepper_x]
step_pin: PB10
dir_pin: PB11
enable_pin: !PG0
rotation_distance: 40
microsteps: 32
full_steps_per_rotation: 400  #0.9 degree stepper
endstop_pin: EBBCan:gpio24
position_min: 0
position_endstop: 300
position_max: 300
homing_speed: 25   #Max 100
homing_retract_dist: 5
homing_positive_dir: true

##  TMC5160
[tmc5160 stepper_x]
cs_pin: PE15
spi_bus: spi4
#diag0_pin: ^!PG1
interpolate: false
run_current: 1.38  #Max 1.7 amp
sense_resistor: 0.075
stealthchop_threshold: 0

##  A Stepper - Right - LDO-42STH48-2504MAC(F)
##  Connected to HV STEPPER 1
##  Endstop connected to Y-ENDSTOP
[stepper_y]
step_pin: PF15
dir_pin: !PF14
enable_pin: !PE9
rotation_distance: 40
microsteps: 32
full_steps_per_rotation: 400  #0.9 degree stepper
endstop_pin: PC2
position_min: 0
position_endstop: 306
position_max: 306
homing_speed: 25  #Max 100
homing_retract_dist: 5
homing_positive_dir: true

##  TMC5160
[tmc5160 stepper_y]
cs_pin: PE11
spi_bus: spi4
#diag0_pin: ^!PE10
interpolate: false
run_current: 1.38  #Max 1.7 amp
sense_resistor: 0.075
stealthchop_threshold: 0
 
#####################################################################
#   Z Stepper Settings
#####################################################################

## Z0 Stepper - Front Left - LDO-42STH48-2004AC
##  Connected to STEPPER 0
##  Endstop connected to Z-ENDSTOP
[stepper_z]
step_pin: PD4
dir_pin: !PD3
enable_pin: !PD7
rotation_distance: 40
gear_ratio: 80:16  
microsteps: 32
endstop_pin: probe:z_virtual_endstop # use cartographer as virtual endstop
#position_endstop: -0.5
position_max: 280
#position_min: -5
#homing_speed: 8
#second_homing_speed: 3
homing_retract_dist: 0 # cartographer needs this to be set to 0

##  TMC2209
[tmc2209 stepper_z]
uart_pin: PD5
#diag_pin: ^!PD6
interpolate: false
run_current: 0.9 #Max 1.4 amp
sense_resistor: 0.110
stealthchop_threshold: 0

##  Z1 Stepper - Rear Left - LDO-42STH48-2004AC
##  Connected to STEPPER 1
[stepper_z1]
step_pin: PC12
dir_pin: PC11
enable_pin: !PD2
rotation_distance: 40
gear_ratio: 80:16 
microsteps: 32

##  TMC2209
[tmc2209 stepper_z1]
uart_pin: PD0
#diag_pin: ^!PD1
interpolate: false
run_current: 0.9 #Max 1.4 amp
sense_resistor: 0.110
stealthchop_threshold: 0

##  Z2 Stepper - Rear Right - LDO-42STH48-2004AC
##  Connected to STEPPER 2
[stepper_z2]
step_pin: PC9
dir_pin: !PC8
enable_pin: !PC10
rotation_distance: 40
gear_ratio: 80:16 
microsteps: 32

##  TMC2209
[tmc2209 stepper_z2]
uart_pin: PA8
#diag_pin: ^!PA15
interpolate: false
run_current: 0.9 #Max 1.4 amp
sense_resistor: 0.110
stealthchop_threshold: 0

##  Z3 Stepper - Front Right - LDO-42STH48-2004AC
##  Connected to STEPPER 3
[stepper_z3]
step_pin: PG7
dir_pin: PG6
enable_pin: !PC7
rotation_distance: 40
gear_ratio: 80:16 
microsteps: 32

##  TMC2209
[tmc2209 stepper_z3]
uart_pin: PG8
#diag_pin: ^!PC6
interpolate: false
run_current: 0.9 #Max 1.4 amp
sense_resistor: 0.110
stealthchop_threshold: 0

#####################################################################
#   Extruder
#####################################################################

##  Connected to EBBCan
##  Heater - HEATER
##  Thermistor - TH0
[extruder]
step_pin: EBBCan:gpio18
dir_pin: EBBCan:gpio19
enable_pin: !EBBCan:gpio17
rotation_distance: 22.407257 #CW2 calibrated
gear_ratio: 50:10 #Stealthburner/Clockwork 2
microsteps: 32
full_steps_per_rotation: 200    #200 for 1.8 degree, 400 for 0.9 degree
nozzle_diameter: 0.400
filament_diameter: 1.75
heater_pin: EBBCan:gpio7
sensor_type: ATC Semitec 104NT-4-R025H42G #E3D Revo Voron
sensor_pin: EBBCan:gpio27
#pullup_resistor: 2200
min_temp: 10
max_temp: 310
max_power: 1.0
min_extrude_temp: 180
#control = pid
#pid_kp = 26.213
#pid_ki = 1.304
#pid_kd = 131.721

# sensor_type: MAX31865
# sensor_pin: EBBCan:gpio9
# spi_software_sclk_pin: EBBCan:gpio10
# spi_software_mosi_pin: EBBCan:gpio8
# spi_software_miso_pin: EBBCan:gpio11
# rtd_nominal_r: 100
# rtd_reference_r: 430
# rtd_num_of_wires: 2

##  Connected to EBBCan
[tmc2209 extruder]
uart_pin: EBBCan:gpio20
interpolate: false
run_current: 0.6 #Moons CSE14HRA1L410A-01
sense_resistor: 0.110
stealthchop_threshold: 0

#####################################################################
#   Bed Heater
#####################################################################

[heater_bed]
heater_pin: PG11 # SSR Pin - HEATBED
sensor_type: Generic 3950 # Use "Generic 3950" for Keenovo heater
sensor_pin: PA1 #TH0
pullup_resistor: 2200 #LDO Leviathan pullup
max_power: 0.6
min_temp: 10
max_temp: 120
#control: pid
#pid_kp = 38.486
#pid_ki = 0.923
#pid_kd = 401.215

#####################################################################
#   Thermistors
#####################################################################

[temperature_sensor chamber]
sensor_type: Generic 3950
sensor_pin: PA2
pullup_resistor: 2200 #LDO Leviathan pullup

[temperature_sensor raspberry_pi]
sensor_type: temperature_host
min_temp: 10
max_temp: 100

[temperature_sensor EBB_NTC]
sensor_type: Generic 3950
sensor_pin: EBBCan:gpio28

#####################################################################
#   Cartographer
#####################################################################

[scanner]
canbus_uuid: a8a32d1fc433
speed: 2.0 #   Z probing dive speed.
lift_speed: 5.0 #   Z probing lift speed.
backlash_comp: 0.005025 #   Backlash compensation distance for removing Z backlash before measuring the sensor response.
x_offset: 0.0 #   X offset of cartographer from the nozzle.
y_offset: 21.1 #   Y offset of cartographer from the nozzle.
trigger_distance: 2. #   cartographer trigger distance for homing.
trigger_dive_threshold: 1.5 #   Threshold for range vs dive mode probing. Beyond `trigger_distance + trigger_dive_threshold` a dive will be used.
trigger_hysteresis: 0.006 #   Hysteresis on trigger threshold for untriggering, as a percentage of the trigger threshold.
cal_nozzle_z: 0.1 #   Expected nozzle offset after completing manual Z offset calibration.
cal_floor: 0.1 #   Minimum z bound on sensor response measurement.
cal_ceil: 5.0 #   Maximum z bound on sensor response measurement.
cal_speed: 1.0 #   Speed while measuring response curve.
cal_move_speed: 10.0 #   Speed while moving to position for response curve measurement.
default_model_name: default #   Name of default cartographer model to load.
mesh_main_direction: x #   Primary travel direction during mesh measurement.
#mesh_overscan: -1 #   Distance to use for direction changes at mesh line ends. Omit this setting and a default will be calculated from line spacing and available travel.
mesh_cluster_size: 1 #   Radius of mesh grid point clusters.
mesh_runs: 2 #   Number of passes to make during mesh scan.
detect_threshold_z: 3000  # This needs tuning
calibration_method: tap 
z_offset: 0.00
probe_speed: 2.0
tap_location: 150,149 # set to center of bed
sensor: cartographer

#####################################################################
#   Probe
#####################################################################

#[probe]
##  Inductive Probe
##  Connected to Z-PROBE
##  This probe is not used for Z height, only Quad Gantry Leveling
#pin: ^PF1
#x_offset: 0
#y_offset: 25.0
#z_offset: 0
#speed: 10.0
#samples: 3
#samples_result: median
#sample_retract_dist: 3.0
#samples_tolerance: 0.006
#samples_tolerance_retries: 3

#[bltouch]
#sensor_pin: ^EBBCan:gpio21
#control_pin: EBBCan:gpio22

## NPN and PNP proximity switch types can be set by jumper
#[probe]
#pin: ^EBBCan:gpio6

#####################################################################
#   Fan Control
#####################################################################

[fan]
##  Print Cooling Fan - EBBCan
pin: EBBCan:gpio13
##tachometer_pin: PB0
kick_start_time: 0.5
##  Depending on your fan, you may need to increase this value
##  if your fan will not start. Can change cycle_time (increase)
##  if your fan is not able to slow down effectively
off_below: 0.10

[heater_fan hotend_fan]
##  Hotend Fan - EBBCan
pin: EBBCan:gpio14
##tachometer_pin: PB4
max_power: 1.0
kick_start_time: 0.5
heater: extruder
heater_temp: 50.0
##  If you are experiencing back flow, you can reduce fan_speed
#fan_speed: 1.0

[controller_fan controller_fan]
##  Controller fan - FAN2
pin: PF7
##tachometer_pin: PF6
max_power: 0.3
kick_start_time: 0.5
heater: heater_bed

#[fan_generic EBBCan_4W_FAN0]
#pin: EBBCan:gpio15
#tachometer_pin: EBBCan:gpio12
#tachometer_ppr: 1

#####################################################################
#   ADXL
#####################################################################

#[adxl345]
#cs_pin: scanner:PA3
#spi_bus: spi1

#[resonance_tester]
#accel_chip: adxl345
#probe_points:
#    152, 149, 20

[input_shaper]
shaper_freq_x: 66.8 # center frequency for the X axis filter
shaper_type_x: mzv # filter type for the X axis
shaper_freq_y: 50.4 # center frequency for the Y axis filter
shaper_type_y: mzv # filter type for the Y axis
damping_ratio_x: 0.045 # damping ratio for the X axis
damping_ratio_y: 0.044 # damping ratio for the Y axis

#####################################################################
#   Filament sensor
#####################################################################

#[filament_switch_sensor Filament]
#pause_on_runout: True
#runout_gcode: M600
#insert_gcode:
#event_delay: 3.0
#pause_delay: 0.5
#switch_pin: !PC0

#####################################################################
#   LED Control
#####################################################################

## Chamber Lighting (Optional)
## Connected to LED-STRIP
[output_pin caselight]
pin: PE6
pwm:true
hardware_pwm: False
value: 0.25 #startup value
shutdown_value: 0
cycle_time: 0.001

## Neopixel (Optional)
## Connected to NEOPIXEL
# [neopixel rgb_light]
# pin: PF10
# chain_count: 3
# color_order: GRBW
# initial_RED: 0.0
# initial_GREEN: 0.0
# initial_BLUE: 0.0
# initial_WHITE: 0.0

#####################################################################
#   Homing and Gantry Adjustment Routines
#####################################################################

[idle_timeout]
timeout: 1800

[safe_z_home]
home_xy_position: 150,149
z_hop: 10

##  Use QUAD_GANTRY_LEVEL to level a gantry.
[quad_gantry_level]

gantry_corners:
   -59,0
   361,380
##  Probe points
points:
   25,25
   25,250
   275,250
   275,25

speed: 200
horizontal_move_z: 10
retries: 5
retry_tolerance: 0.005
max_adjust: 10

[bed_mesh]
speed: 200  
#horizontal_move_z: 15
mesh_min: 25, 25
mesh_max: 275,275
fade_start: 0.6
fade_end: 10.0
probe_count: 40,40
algorithm: bicubic
bicubic_tension: 0.2
#relative_reference_index: 60
zero_reference_position: 150.00, 149.00

########################################
# EXP1 / EXP2 (display) pins
########################################

[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PG9, EXP1_2=PG12,
    EXP1_3=PG13, EXP1_4=PG14,
    EXP1_5=PC13, EXP1_6=PC14,    # Slot in the socket on this side
    EXP1_7=PC15, EXP1_8=PF0,
    EXP1_9=<GND>, EXP1_10=<5V>,

    # EXP2 header
    EXP2_1=PA6, EXP2_2=PA5,
    EXP2_3=PE2, EXP2_4=PE4,
    EXP2_5=PE3, EXP2_6=PA7,      # Slot in the socket on this side
    EXP2_7=PE5, EXP2_8=<RST>,
    EXP2_9=<GND>, EXP2_10=PE4

#####################################################################
#   Displays
#####################################################################

#####################################################################
#   Macros
#####################################################################

#[gcode_macro PROBE_CALIBRATE]
#gcode:
#    CARTOGRAPHER_CALIBRATE

#[gcode_macro Carto_QGL] # safer and faster QGL for Cartographer
#gcode:
#    G28 # or use a conditional or safe homing
#    QUAD_GANTRY_LEVEL horizontal_move_z=10 retries=0 retry_tolerance=1.000
#    QUAD_GANTRY_LEVEL horizontal_move_z=3
#    G28 Z

[gcode_macro G32]
gcode:
    SAVE_GCODE_STATE NAME=STATE_G32
    G90
    G28
    QUAD_GANTRY_LEVEL
    G28
    G0 X150 Y150 Z30 F3600
    RESTORE_GCODE_STATE NAME=STATE_G32
   
[gcode_macro PRINT_START]
#   Use PRINT_START for the slicer starting script
gcode:
  #SET PARAMETERS
  {% set bedtemp = params.BED|int %}
  {% set hotendtemp = params.HOTEND|int %}
  {% set chambertemp = params.CHAMBER|default(0)|int %}
  {% set z_offset = params.ZOFFSET|default(0.000)|float %}
  #SETUP_KAMP_MESHING DISPLAY_PARAMETERS=1 LED_ENABLE=1 FUZZ_ENABLE=1 PROBE_DOCK_ENABLE=1
  #SETUP_LINE_PURGE DISPLAY_PARAMETERS=1 ADAPTIVE_ENABLE=1
  #TURN ON NEVERMORE IF USING ABS
  #  {% if params.MATERIAL == "ABS" %}
  #      SET_FAN_SPEED FAN=Nevermore SPEED=0.5
  #  {% endif %}
  #HOME THE PRINTER
  M117 Homing the printer...
  G90 #set absolute positioning
  M107 #turn off parts fan
  G28 #home all axis
  #MOVE HOTEND TO CENTRE FOR HEAT SOAK
  M117 Preparing for heat soak...
  G0 X150 Y150 Z100 F3600 #move hotend a sufficent distance from heated bed for heat soak
  M106 S255 #set part fan to full speed to circulate chamber air  
  #PRE-HEAT BED
  STATUS_HEATING #Set LED status
  M117 Preheating bed...
  M190 S{bedtemp} 
  #WAIT FOR CHAMBER TEMPERATURE
  M117 Waiting for chamber temperature...
  TEMPERATURE_WAIT SENSOR="temperature_sensor chamber" MINIMUM={chambertemp}
  M107 #turn off part fan
  #TRAM THE GANTRY
  M117 Quad gantry level...
  QUAD_GANTRY_LEVEL #QGL for v2.4
  G28 #home all axis
  #PRE-HEAT NOZZLE
  STATUS_HEATING #Set LED status
  M117 Preheating nozzle...
  M109 S190 #start warming the nozzle up
  #CLEAN NOZZLE
  STATUS_CLEANING #Set LED status
  M117 Cleaning nozzle...
  CLEAN_NOZZLE #requires brush/purge bucket, from decontaminator
  M117 Preparing nozzle for bed mesh...
  M106 S255 #set part fan to cool nozzle  
  M109 S150 #cool nozzle for tap
  M107  #turn off part fan 
  #BED MESH
  STATUS_MESHING
  M117 Bed meshing...
  BED_MESH_CLEAR
  BED_MESH_CALIBRATE
  #CLEAN NOZZLE
  STATUS_CLEANING #Set LED status
  M117 Cleaning nozzle...
  CLEAN_NOZZLE #requires brush/purge bucket, from decontaminator
  #PROBE CALIBRATE
  STATUS_CALIBRATING_Z
  M117 Calibrating Z probe...
  #G0 Z15
  G0 X150 Y149
  PROBE_CALIBRATE METHOD=AUTO
  #LOAD SKEW CORRECTION
  #M117 Loading skew correction profile...
  #SKEW_PROFILE LOAD=CaliFlower
  #ADJUST Z OFFSET IF REQUIRED
  #M118 Setting Offset to { z_offset }
  #  {% if z_offset != 0 %}
  #   SET_GCODE_OFFSET Z_ADJUST={ z_offset }
  #  {% endif %}
  #MOVE TO FRONT AND HEAT NOZZLE
  G90
  G0 X2 Y20 F3600
  STATUS_HEATING #Set LED status
  M117 Heating hotend to printing temp...
  M109 S{hotendtemp}
  STATUS_PRINTING #Set LED status
  #PRINT PURGE LINE
  M117 Purging...
  #PURGE_LINE
  PURGE_LINE
  M117 Printing...
   
[gcode_macro PURGE_LINE]
gcode:
	G92 E0 #reset Extruder
    G1 X2 Y20 Z0.3 F6000 #move to start position
    G1 X2 Y200.0 Z0.3 F1500.0 E15 #draw the first line
    G92 E0 #reset Extruder
    G1 Z2.0 F3000 #raise Z to safe distance

[gcode_macro PREHEAT]
gcode:
  G90 #set absolute positioning
  G28 #home all axis
  QUAD_GANTRY_LEVEL #V2.4 
  G0 X150 Y150 Z100 F3600 ## Move hotend a sufficent distance from heated bed for heat soak
  M106 S255 #set parts fan to full speed, helps circulate chamber air
  STATUS_HEATING #Set LED status
  SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET=110 #For ABS

[gcode_macro PRINT_END]
#   Use PRINT_END for the slicer ending script - please customise for your slicer of choice
gcode:
    # safe anti-stringing move coords
    {% set th = printer.toolhead %}
    {% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
    {% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
    {% set z_safe = [th.position.z + 10, th.axis_maximum.z]|min %}
    
    SAVE_GCODE_STATE NAME=STATE_PRINT_END
    
    M400                           ; wait for buffer to clear
    G92 E0                         ; zero the extruder
    G1 E-5.0 F1800                 ; retract filament
    
    TURN_OFF_HEATERS
    
    G90                                      ; absolute positioning
    G0 X{x_safe} Y{y_safe} Z{z_safe} F20000  ; move nozzle to remove stringing
    G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y - 2} F3600  ; park nozzle at rear
    M107                                     ; turn off fan
    
    SET_SKEW CLEAR=1
    BED_MESH_CLEAR
    RESTORE_GCODE_STATE NAME=STATE_PRINT_END
    STATUS_OFF #Set LED status
    M117 Finished...

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 38.637
#*# pid_ki = 0.882
#*# pid_kd = 423.079
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 33.123
#*# pid_ki = 4.167
#*# pid_kd = 65.830
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  -0.043972, 0.019471, -0.007338, -0.029625, 0.033648, 0.011011, 0.017434, 0.044635, 0.015784, 0.009800, 0.039514, 0.005358, 0.008698, 0.040668, 0.019932, 0.027027, 0.058766, 0.033467, 0.032696, 0.068030, 0.014965, 0.047454, 0.076472, 0.014903, 0.042962, 0.069619, 0.008387, 0.033312, 0.032192, -0.000313, 0.030655, 0.026704, -0.007233, 0.021194, 0.016395, -0.019005, 0.003220, 0.000809, -0.040672, -0.014825
#*# 	  -0.023348, -0.019504, -0.015755, -0.009345, -0.003860, 0.003437, 0.007103, 0.008417, 0.008561, 0.004815, 0.003137, 0.001227, 0.002344, 0.007492, 0.014988, 0.019581, 0.024056, -0.001508, 0.028125, 0.035620, 0.038742, 0.042088, 0.043042, 0.040251, 0.039589, 0.035350, 0.032869, 0.029536, 0.029035, 0.025599, 0.056822, 0.020750, 0.017594, 0.044629, 0.006082, 0.000902, 0.026190, -0.008565, -0.016182, 0.010213
#*# 	  -0.031043, -0.027426, -0.023528, -0.016336, -0.011431, -0.004517, -0.000931, 0.001061, 0.002368, 0.029766, -0.001219, -0.002594, -0.002458, 0.002384, 0.008684, 0.016244, 0.019076, 0.023179, 0.021356, 0.029633, 0.031331, 0.037331, 0.037094, 0.034829, 0.034081, 0.030416, 0.028405, 0.026205, 0.024860, 0.020417, 0.020406, -0.014350, 0.012274, 0.005429, -0.033199, -0.007948, -0.011914, -0.046263, -0.022099, -0.029444
#*# 	  -0.036518, -0.031594, -0.000937, -0.020801, -0.017421, 0.017561, -0.033437, -0.003644, 0.026012, -0.030299, -0.002966, 0.023449, -0.033009, -0.000634, 0.035371, -0.015058, 0.014426, 0.019135, -0.012607, 0.024914, 0.027741, 0.003159, 0.032220, 0.030312, 0.001764, 0.027670, 0.023801, -0.005456, 0.021319, 0.017489, 0.014509, 0.009243, 0.005095, -0.000999, -0.006668, -0.013429, -0.016636, 0.011425, -0.024407, -0.031771
#*# 	  -0.041511, -0.036143, -0.062192, -0.023942, -0.019944, -0.042732, 0.023306, -0.005623, -0.033190, 0.027840, -0.002996, -0.036753, 0.026220, -0.001607, -0.026436, 0.039363, 0.011187, -0.013037, 0.044178, 0.022667, -0.003488, 0.059048, 0.031168, 0.028514, 0.057366, -0.004275, 0.023016, 0.052685, -0.010873, 0.015712, 0.042903, -0.023966, 0.000403, 0.024382, -0.042924, -0.016602, 0.009720, -0.054653, -0.028838, -0.006510
#*# 	  -0.073233, -0.040955, -0.008316, -0.056276, -0.023195, 0.010142, -0.037352, -0.007355, 0.022568, -0.033131, 0.022119, 0.019653, -0.031803, 0.022765, 0.001606, -0.018354, 0.037052, 0.013987, -0.012794, 0.048644, 0.022440, -0.001628, 0.056107, 0.026634, -0.001967, 0.053445, 0.020970, -0.006879, 0.047880, -0.013981, -0.018204, 0.033314, -0.029550, -0.007014, 0.014058, -0.050357, -0.024397, 0.002193, -0.061933, -0.042281
#*# 	  -0.049578, -0.017173, -0.068936, -0.034260, 0.000395, -0.047809, -0.010184, 0.020625, -0.028156, -0.006167, 0.020459, -0.040404, 0.019068, 0.019803, -0.029097, 0.032986, 0.005485, -0.017000, 0.039584, 0.016301, -0.007498, 0.049883, 0.024093, -0.003744, 0.051517, 0.022002, -0.008991, 0.047634, 0.016577, -0.014934, 0.037294, -0.025676, -0.028354, 0.023252, -0.044318, -0.051807, 0.000482, -0.061576, -0.067077, -0.018041
#*# 	  -0.081242, -0.021760, -0.019011, -0.065235, -0.006907, -0.024348, -0.042603, 0.018869, -0.002842, -0.027362, 0.013480, -0.014144, -0.038463, 0.017113, -0.029568, -0.022624, 0.031519, -0.018336, -0.016234, 0.042674, -0.007919, -0.005143, 0.050026, -0.002559, -0.002026, 0.047085, -0.010310, -0.011007, 0.044135, -0.014476, 0.008232, 0.037386, -0.019941, 0.024297, 0.010976, -0.055756, -0.003330, -0.008389, -0.068867, -0.022652
#*# 	  -0.086018, -0.026036, -0.078238, -0.069848, -0.010711, -0.055281, -0.049882, 0.011032, -0.031304, -0.030972, 0.022812, -0.040750, -0.013666, 0.015930, -0.029426, 0.002208, 0.029738, -0.018101, 0.035924, 0.040937, -0.007573, 0.046466, 0.047729, -0.003874, 0.047648, 0.045175, -0.009099, 0.040703, 0.014799, -0.014454, 0.040478, 0.014280, -0.020674, 0.020636, -0.023170, -0.057497, -0.010356, -0.065395, -0.071765, -0.027417
#*# 	  -0.088171, -0.032503, -0.053928, -0.070859, -0.016274, -0.032808, -0.050128, 0.002243, -0.013207, -0.031378, 0.015496, -0.033330, -0.038603, 0.011491, -0.029991, -0.025574, 0.026139, -0.020884, 0.006605, 0.037830, -0.009870, 0.018236, 0.044166, -0.003727, 0.019438, 0.040533, -0.012577, 0.035342, 0.036945, -0.011403, 0.039327, 0.033863, -0.023706, 0.008678, -0.028839, -0.061668, -0.015750, -0.046126, -0.077399, -0.034414
#*# 	  -0.095617, -0.039112, -0.058357, -0.077340, -0.021500, -0.038951, -0.055709, -0.003714, -0.049892, -0.042674, 0.013403, -0.038637, -0.035282, 0.007782, -0.036915, -0.007063, 0.018842, -0.026382, -0.000245, 0.030531, -0.014546, 0.011521, 0.036682, -0.010293, 0.014770, 0.035344, -0.018129, 0.004817, 0.031790, -0.012765, 0.007570, 0.023434, -0.039468, -0.003010, -0.036998, -0.067041, -0.024731, -0.054325, -0.086328, -0.043605
#*# 	  -0.099916, -0.049668, -0.067364, -0.082621, -0.032857, -0.045251, -0.061601, -0.012302, -0.051969, -0.051813, -0.001054, -0.042609, -0.038960, 0.011213, -0.038782, -0.010873, 0.011760, -0.028506, -0.005082, 0.024232, -0.021716, 0.004820, 0.031692, -0.015452, 0.029993, 0.027967, -0.020123, 0.031454, 0.007780, -0.019451, 0.022001, -0.014093, -0.043373, -0.005680, -0.040807, -0.070970, -0.032631, -0.060214, -0.091824, -0.049198
#*# 	  -0.102297, -0.050246, -0.070750, -0.087884, -0.035534, -0.049810, -0.064617, -0.012645, -0.053964, -0.051379, -0.003250, -0.043218, -0.037219, 0.009601, -0.029346, -0.029429, 0.014134, -0.027461, -0.004348, 0.020816, -0.021868, 0.003207, 0.026880, -0.016785, 0.005803, 0.028024, -0.012343, 0.031526, 0.029637, -0.020624, 0.014796, 0.007893, -0.042667, -0.006966, -0.019668, -0.072724, -0.034610, -0.083350, -0.090011, -0.048051
#*# 	  -0.100710, -0.053553, -0.071936, -0.086249, -0.040510, -0.072885, -0.065162, -0.014386, -0.048819, -0.049053, -0.004099, -0.046579, -0.036854, 0.013326, -0.025645, -0.016565, 0.015094, -0.023897, -0.023833, 0.021343, -0.020065, 0.026182, 0.028777, -0.013840, 0.027920, 0.031809, -0.007058, 0.031540, 0.028085, -0.023565, 0.016910, 0.010075, -0.038400, -0.006395, -0.039473, -0.071642, -0.034730, -0.060262, -0.087948, -0.045991
#*# 	  -0.103408, -0.053806, -0.070872, -0.086061, -0.038482, -0.074317, -0.063850, -0.015032, -0.050317, -0.047157, -0.001055, -0.045948, -0.040642, 0.008507, -0.023755, 0.001423, 0.022496, -0.021975, -0.003868, 0.020613, -0.020172, 0.024262, 0.024468, -0.013067, 0.031461, 0.035064, -0.007059, 0.029677, 0.021459, -0.024157, 0.017339, 0.010657, -0.036942, -0.006608, -0.019896, -0.071011, -0.034954, -0.082437, -0.086131, -0.049034
#*# 	  -0.104779, -0.059280, -0.055442, -0.086552, -0.042390, -0.054635, -0.064593, -0.019694, -0.032197, -0.048041, -0.006735, -0.047156, -0.042907, -0.001386, -0.031350, -0.025670, 0.015047, -0.025610, -0.025688, 0.020631, -0.018308, 0.003033, 0.024243, -0.014897, 0.029868, 0.027908, -0.012775, 0.019410, 0.017727, -0.026583, 0.013310, 0.009583, -0.040244, -0.009428, -0.023945, -0.074759, -0.042157, -0.045859, -0.088967, -0.055284
#*# 	  -0.111989, -0.065380, -0.079421, -0.092157, -0.046341, -0.079153, -0.068934, -0.022182, -0.056139, -0.052751, -0.008883, -0.051769, -0.048561, -0.008208, -0.042446, -0.013798, 0.007956, -0.024234, 0.001036, 0.028761, -0.007959, 0.014135, 0.029606, -0.012619, 0.020717, 0.016990, -0.025581, 0.010519, 0.011341, -0.029974, 0.007679, -0.017701, -0.046330, -0.018058, -0.052292, -0.083113, -0.051548, -0.075503, -0.097961, -0.064829
#*# 	  -0.113931, -0.070622, -0.065012, -0.093979, -0.053350, -0.062808, -0.071736, -0.027386, -0.055658, -0.050489, -0.016297, -0.052021, -0.049945, -0.012098, -0.041052, -0.034892, 0.006206, -0.015410, 0.008154, 0.039372, 0.006567, 0.026400, 0.038756, -0.005145, 0.004024, 0.015342, -0.025583, -0.009323, 0.009757, -0.031153, 0.004406, -0.001247, -0.044488, -0.020200, -0.037003, -0.083983, -0.057378, -0.079646, -0.100438, -0.068753
#*# 	  -0.115189, -0.070987, -0.083497, -0.093644, -0.053755, -0.064629, -0.070963, -0.027572, -0.053725, -0.048146, -0.011675, -0.051407, -0.048445, -0.010604, -0.040028, -0.032984, 0.002624, -0.014678, 0.009082, 0.034197, 0.004989, 0.039973, 0.035398, -0.005377, 0.019823, 0.013345, -0.021222, 0.007987, 0.007803, -0.028152, 0.003970, -0.001483, -0.044008, -0.023115, -0.056291, -0.083485, -0.059377, -0.081074, -0.101870, -0.075988
#*# 	  -0.109644, -0.070742, -0.080214, -0.089967, -0.051840, -0.060798, -0.066947, -0.025481, -0.032172, -0.042768, -0.010969, -0.046207, -0.041118, -0.006970, -0.029913, -0.022159, 0.013320, -0.010815, 0.009427, 0.032132, 0.004044, 0.017714, 0.031703, -0.001530, 0.011290, 0.024336, -0.010757, -0.002603, 0.011344, -0.026484, 0.004005, -0.001065, -0.040291, -0.020598, -0.035861, -0.078535, -0.055560, -0.075747, -0.101435, -0.076069
#*# 	  -0.110539, -0.071057, -0.081301, -0.088382, -0.050952, -0.060003, -0.065831, -0.027242, -0.033106, -0.044372, -0.012573, -0.046128, -0.026557, -0.004688, -0.016189, 0.011327, 0.034132, 0.005920, 0.022034, 0.040837, 0.011664, 0.042912, 0.042558, 0.014640, 0.047874, 0.030568, 0.002179, 0.022488, -0.004744, -0.025624, 0.002093, -0.019208, -0.040879, -0.024155, -0.052236, -0.076967, -0.057248, -0.077247, -0.099954, -0.077608
#*# 	  -0.109781, -0.076351, -0.085345, -0.088319, -0.057994, -0.074590, -0.065243, -0.029083, -0.051073, -0.047257, -0.019833, -0.048011, -0.043246, -0.003594, -0.016447, 0.018611, 0.037849, 0.010493, 0.023684, 0.044595, 0.013200, 0.032083, 0.040929, 0.019310, 0.032009, 0.043917, 0.005327, 0.006171, 0.007776, -0.027670, -0.003257, -0.010643, -0.045138, -0.029375, -0.041894, -0.077940, -0.057494, -0.077575, -0.100288, -0.079213
#*# 	  -0.112920, -0.077501, -0.086996, -0.092775, -0.057971, -0.061403, -0.067248, -0.032625, -0.040853, -0.049956, -0.021708, -0.049823, -0.046151, -0.010994, -0.025280, -0.013401, 0.015082, -0.012787, 0.000996, 0.018699, -0.003478, 0.011365, 0.024132, -0.001502, 0.023578, 0.020615, -0.010770, 0.003399, -0.012140, -0.031095, -0.006421, -0.028548, -0.046601, -0.034588, -0.055761, -0.076824, -0.060601, -0.078455, -0.098710, -0.080177
#*# 	  -0.109868, -0.079984, -0.087120, -0.089931, -0.058682, -0.059940, -0.063475, -0.036020, -0.040620, -0.049042, -0.024908, -0.037046, -0.031395, -0.017445, -0.033107, -0.013296, 0.001359, -0.021831, -0.009900, 0.007776, -0.013241, 0.000245, 0.015088, -0.009088, 0.001190, 0.010466, -0.018216, -0.012963, -0.001243, -0.028496, -0.019828, -0.017075, -0.047535, -0.034920, -0.043970, -0.074809, -0.059396, -0.078129, -0.095301, -0.078210
#*# 	  -0.111123, -0.079459, -0.086557, -0.090092, -0.057442, -0.062122, -0.065018, -0.035698, -0.042625, -0.052719, -0.026939, -0.051233, -0.045250, -0.017895, -0.026119, -0.011366, 0.004140, -0.022045, -0.012740, 0.003709, -0.016413, -0.002482, 0.009658, -0.011611, 0.013381, 0.010415, -0.014065, -0.002899, -0.014676, -0.031375, -0.011642, -0.030620, -0.048175, -0.038572, -0.058939, -0.076483, -0.064157, -0.079800, -0.097970, -0.081748
#*# 	  -0.108427, -0.079742, -0.085205, -0.086419, -0.058881, -0.059645, -0.061544, -0.035834, -0.051051, -0.051834, -0.027066, -0.050036, -0.034012, -0.015667, -0.025598, -0.006787, 0.002143, -0.021109, -0.012190, 0.004533, -0.016608, -0.003357, 0.007894, -0.010942, 0.003088, 0.013266, -0.012591, -0.007055, -0.004140, -0.032041, -0.012522, -0.020830, -0.049466, -0.038142, -0.056804, -0.074639, -0.063105, -0.077999, -0.095721, -0.079030
#*# 	  -0.106701, -0.077836, -0.081740, -0.084194, -0.056429, -0.058816, -0.059868, -0.034919, -0.039494, -0.050364, -0.027441, -0.038732, -0.036850, -0.012966, -0.024060, -0.011034, -0.004542, -0.021839, -0.011580, 0.002173, -0.015315, -0.002812, 0.007755, -0.009781, -0.000714, 0.011513, -0.007552, 0.004333, -0.004003, -0.028496, -0.010624, -0.028774, -0.043040, -0.034849, -0.054211, -0.071788, -0.059996, -0.072454, -0.089031, -0.075772
#*# 	  -0.099721, -0.076136, -0.077778, -0.077914, -0.053618, -0.053398, -0.054639, -0.033035, -0.036459, -0.037229, -0.027273, -0.029638, -0.023260, -0.012336, -0.023942, -0.015906, -0.006791, -0.020419, -0.009199, 0.003360, -0.012661, -0.000577, 0.009903, -0.006896, 0.001746, 0.007880, -0.007046, 0.000110, 0.009836, -0.010757, -0.008707, -0.023344, -0.038739, -0.030317, -0.050036, -0.065016, -0.057146, -0.067264, -0.082149, -0.070473
#*# 	  -0.095313, -0.069918, -0.073631, -0.073727, -0.051673, -0.050960, -0.052824, -0.031443, -0.034646, -0.043335, -0.018140, -0.025617, -0.020032, -0.010693, -0.020102, -0.014927, -0.005026, -0.008251, -0.009100, 0.003584, -0.007335, 0.003568, 0.009845, -0.001800, 0.004102, 0.009505, -0.010496, -0.000310, 0.001895, -0.007480, 0.001108, -0.019297, -0.031569, -0.027375, -0.044797, -0.058335, -0.052376, -0.061494, -0.073747, -0.066236
#*# 	  -0.087073, -0.066593, -0.069193, -0.066180, -0.050605, -0.046717, -0.039446, -0.029232, -0.030295, -0.027312, -0.017009, -0.022971, -0.021416, -0.017893, -0.027452, -0.013601, -0.004800, -0.013617, -0.009542, 0.004396, -0.007030, 0.002343, 0.011574, -0.000978, 0.002935, 0.005905, -0.009700, -0.006956, 0.001236, -0.004181, -0.003184, -0.010897, -0.028835, -0.033245, -0.042895, -0.056652, -0.049009, -0.058602, -0.068952, -0.064676
#*# 	  -0.084859, -0.064248, -0.065488, -0.065018, -0.046192, -0.045226, -0.045290, -0.027698, -0.023225, -0.022817, -0.014460, -0.025975, -0.028102, -0.019999, -0.022094, -0.015467, -0.008242, -0.010417, -0.009789, 0.002654, -0.001307, 0.000529, 0.003481, -0.003245, 0.000302, -0.001759, -0.010936, -0.010507, -0.007858, -0.005792, -0.005239, -0.008454, -0.022420, -0.034282, -0.044236, -0.056116, -0.051491, -0.061254, -0.070328, -0.066802
#*# 	  -0.082900, -0.066871, -0.065670, -0.057003, -0.047988, -0.045970, -0.039093, -0.026319, -0.022958, -0.025544, -0.023594, -0.035629, -0.032648, -0.025242, -0.029682, -0.019608, -0.012521, -0.018526, -0.012447, -0.001399, -0.008867, -0.001879, 0.005473, -0.003600, -0.001853, -0.004403, -0.012861, -0.011612, -0.012691, -0.017245, -0.008593, -0.012657, -0.021905, -0.030078, -0.044806, -0.055706, -0.053334, -0.061091, -0.070788, -0.066653
#*# 	  -0.083668, -0.067529, -0.065204, -0.062093, -0.047951, -0.045146, -0.037917, -0.023844, -0.024695, -0.034185, -0.030703, -0.036107, -0.033925, -0.027126, -0.026295, -0.019399, -0.014050, -0.018202, -0.013131, -0.003365, -0.008941, -0.003156, 0.002226, -0.003466, -0.003194, -0.004334, -0.014501, -0.011596, -0.011932, -0.018864, -0.016272, -0.014444, -0.024233, -0.023290, -0.039525, -0.052207, -0.051852, -0.059359, -0.068814, -0.066900
#*# 	  -0.078917, -0.069838, -0.062379, -0.058180, -0.046086, -0.039658, -0.029994, -0.026367, -0.023540, -0.030118, -0.029193, -0.032375, -0.029395, -0.023575, -0.024872, -0.015870, -0.011194, -0.013182, -0.008716, 0.000821, -0.003577, 0.001499, 0.005888, 0.000313, 0.002292, -0.002236, -0.008093, -0.009648, -0.009595, -0.014688, -0.015130, -0.018999, -0.020546, -0.026535, -0.033716, -0.045252, -0.047912, -0.054855, -0.063051, -0.062592
#*# 	  -0.069306, -0.057621, -0.055826, -0.052000, -0.040174, -0.035720, -0.027352, -0.022040, -0.022836, -0.024106, -0.023664, -0.024279, -0.021097, -0.019354, -0.012347, -0.006993, -0.004871, 0.002171, -0.003769, 0.004980, 0.007420, 0.005797, 0.007310, 0.008567, 0.003812, 0.005984, 0.001207, -0.005712, -0.001280, -0.008875, -0.011284, -0.012518, -0.022517, -0.026158, -0.031085, -0.041001, -0.041978, -0.045524, -0.055931, -0.057227
#*# 	  -0.062447, -0.055601, -0.050993, -0.046182, -0.035188, -0.028866, -0.025568, -0.021024, -0.020883, -0.019875, -0.016317, -0.021949, -0.017727, -0.013973, -0.011877, -0.001336, -0.000274, 0.001622, 0.005917, 0.008682, 0.008655, 0.013592, 0.011816, 0.011347, 0.011336, 0.006617, 0.002723, 0.000805, -0.003613, -0.004676, -0.007030, -0.013621, -0.017747, -0.025992, -0.031854, -0.036257, -0.041903, -0.044546, -0.051942, -0.055157
#*# 	  -0.060372, -0.055561, -0.050426, -0.042900, -0.037762, -0.029334, -0.025620, -0.020335, -0.017733, -0.019860, -0.019058, -0.018149, -0.018636, -0.016090, -0.008869, -0.004486, 0.001209, 0.003249, 0.002042, 0.009713, 0.013039, 0.011325, 0.013250, 0.010131, 0.008408, 0.008823, 0.003882, 0.001686, 0.002201, -0.003664, -0.003300, -0.010112, -0.016367, -0.021512, -0.030990, -0.034313, -0.038403, -0.043419, -0.048828, -0.055309
#*# 	  -0.059335, -0.055549, -0.050231, -0.043143, -0.038389, -0.028872, -0.025199, -0.021443, -0.020060, -0.019067, -0.017831, -0.020103, -0.017517, -0.012559, -0.008888, -0.000813, 0.002134, 0.004022, 0.006030, 0.011593, 0.011224, 0.013779, 0.012256, 0.012682, 0.011056, 0.009624, 0.006482, 0.003302, 0.001967, 0.000119, -0.002825, -0.007963, -0.012578, -0.019963, -0.029557, -0.032267, -0.038146, -0.041995, -0.046259, -0.052428
#*# 	  -0.056807, -0.052715, -0.047232, -0.040340, -0.035057, -0.028613, -0.022628, -0.019654, -0.016747, -0.016616, -0.016354, -0.016642, -0.013656, -0.009092, -0.004717, 0.003904, 0.004695, 0.008686, 0.007633, 0.012718, 0.013073, 0.014912, 0.013789, 0.014172, 0.013440, 0.013283, 0.010457, 0.005859, 0.004695, 0.002158, 0.000291, -0.004940, -0.010246, -0.017972, -0.027504, -0.031049, -0.035892, -0.040471, -0.043480, -0.049783
#*# 	  -0.049073, -0.048212, -0.044515, -0.037217, -0.032611, -0.026456, -0.019984, -0.018204, -0.014248, -0.016210, -0.012951, -0.014525, -0.010588, -0.007558, -0.001552, 0.005853, 0.007708, 0.010620, 0.009398, 0.013443, 0.014926, 0.016882, 0.016726, 0.017224, 0.015709, 0.013351, 0.011296, 0.006028, 0.007285, 0.004058, 0.001447, -0.003222, -0.007648, -0.015651, -0.024853, -0.028687, -0.033303, -0.037761, -0.041784, -0.048420
#*# x_count = 40
#*# y_count = 40
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 25.0
#*# max_x = 275.0
#*# min_y = 25.0
#*# max_y = 275.0
#*#
#*# [skew_correction CaliFlower]
#*# xy_skew = -0.00010025614237236026
#*# xz_skew = 0.0
#*# yz_skew = 0.0
#*#
#*# [scanner model default]
#*# model_coef = 1.4889487598103766,
#*# 	  1.8440907884112092,
#*# 	  0.7738495505007091,
#*# 	  0.21156254948458184,
#*# 	  -0.01937551066718795,
#*# 	  0.917984610218566,
#*# 	  0.5516165166223592,
#*# 	  -1.2410687576342962,
#*# 	  -0.24385333230483205,
#*# 	  0.720169536166303
#*# model_domain = 3.215816010817116e-07,3.344217145444834e-07
#*# model_range = 0.100000,5.000000
#*# model_temp = 50.431431
#*# model_offset = 0.38047
