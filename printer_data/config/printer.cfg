#####################################################################
#   Board Details
#####################################################################

# Voron Leviathan V1.2
# Firmware should be compiled for the STM32F446 with "No bootloader"
# Enable "extra low-level configuration options" and select the "12MHz crystal" as clock reference

# BigTreeTech SB2209 (RP2040)
# Firmware should be compiled for the RP2040 with "USB" or "CAN bus (on gpio4/gpio5)"

#####################################################################
#   Klipper Includes
#####################################################################

[include mainsail.cfg]
[include stealthburner_leds.cfg]
[exclude_object]
[skew_correction]
[auto_speed]
#[include adxl.cfg]
[include shaketune.cfg]
[include auto_speed.cfg]
[include nevermore.cfg]
[include nozzle_scrub.cfg]

#####################################################################
#   MCU Settings
#####################################################################

[mcu] # Obtain definition by "ls -l /dev/serial/by-id/" then unplug to verify
canbus_uuid: e7d3a6f906c6

[mcu EBBCan]
canbus_uuid: 91e36b20c680

#####################################################################
#   Printer Settings
#####################################################################

[printer]
kinematics: corexy
max_velocity: 500 #Recommended velocity: 710
max_accel: 30000  #Recommended accel: 46174
max_z_velocity: 15  #Max 15 for 12V TMC Drivers, can increase for 24V
max_z_accel: 350
square_corner_velocity: 5.0

#####################################################################
#   X/Y Stepper Settings
#####################################################################

##  B Stepper - Left - LDO-42STH48-2504MAC(F)
##  Connected to HV STEPPER 0
##  Endstop connected to EBBCan:gpio24
[stepper_x]
step_pin: PB10
dir_pin: PB11
enable_pin: !PG0
rotation_distance: 40
microsteps: 32
full_steps_per_rotation: 400  #0.9 degree stepper
endstop_pin: EBBCan:gpio24
position_min: 0
position_endstop: 300
position_max: 300
homing_speed: 25   #Max 100
homing_retract_dist: 5
homing_positive_dir: true

##  TMC5160
[tmc5160 stepper_x]
cs_pin: PE15
spi_bus: spi4
#diag0_pin: ^!PG1
interpolate: false
run_current: 1.38  #Max 1.7 amp
sense_resistor: 0.075
stealthchop_threshold: 0

##  A Stepper - Right - LDO-42STH48-2504MAC(F)
##  Connected to HV STEPPER 1
##  Endstop connected to Y-ENDSTOP
[stepper_y]
step_pin: PF15
dir_pin: !PF14
enable_pin: !PE9
rotation_distance: 40
microsteps: 32
full_steps_per_rotation: 400  #0.9 degree stepper
endstop_pin: PC2
position_min: 0
position_endstop: 306
position_max: 306
homing_speed: 25  #Max 100
homing_retract_dist: 5
homing_positive_dir: true

##  TMC5160
[tmc5160 stepper_y]
cs_pin: PE11
spi_bus: spi4
#diag0_pin: ^!PE10
interpolate: false
run_current: 1.38  #Max 1.7 amp
sense_resistor: 0.075
stealthchop_threshold: 0
 
#####################################################################
#   Z Stepper Settings
#####################################################################

## Z0 Stepper - Front Left - LDO-42STH48-2004AC
##  Connected to STEPPER 0
##  Endstop connected to Z-ENDSTOP
[stepper_z]
step_pin: PD4
dir_pin: !PD3
enable_pin: !PD7
rotation_distance: 40
gear_ratio: 80:16  
microsteps: 32
endstop_pin: probe:z_virtual_endstop # use cartographer as virtual endstop
#position_endstop: -0.5
position_max: 280
#position_min: -5
#homing_speed: 8
#second_homing_speed: 3
homing_retract_dist: 0 # cartographer needs this to be set to 0

##  TMC2209
[tmc2209 stepper_z]
uart_pin: PD5
#diag_pin: ^!PD6
interpolate: false
run_current: 0.9 #Max 1.4 amp
sense_resistor: 0.110
stealthchop_threshold: 0

##  Z1 Stepper - Rear Left - LDO-42STH48-2004AC
##  Connected to STEPPER 1
[stepper_z1]
step_pin: PC12
dir_pin: PC11
enable_pin: !PD2
rotation_distance: 40
gear_ratio: 80:16 
microsteps: 32

##  TMC2209
[tmc2209 stepper_z1]
uart_pin: PD0
#diag_pin: ^!PD1
interpolate: false
run_current: 0.9 #Max 1.4 amp
sense_resistor: 0.110
stealthchop_threshold: 0

##  Z2 Stepper - Rear Right - LDO-42STH48-2004AC
##  Connected to STEPPER 2
[stepper_z2]
step_pin: PC9
dir_pin: !PC8
enable_pin: !PC10
rotation_distance: 40
gear_ratio: 80:16 
microsteps: 32

##  TMC2209
[tmc2209 stepper_z2]
uart_pin: PA8
#diag_pin: ^!PA15
interpolate: false
run_current: 0.9 #Max 1.4 amp
sense_resistor: 0.110
stealthchop_threshold: 0

##  Z3 Stepper - Front Right - LDO-42STH48-2004AC
##  Connected to STEPPER 3
[stepper_z3]
step_pin: PG7
dir_pin: PG6
enable_pin: !PC7
rotation_distance: 40
gear_ratio: 80:16 
microsteps: 32

##  TMC2209
[tmc2209 stepper_z3]
uart_pin: PG8
#diag_pin: ^!PC6
interpolate: false
run_current: 0.9 #Max 1.4 amp
sense_resistor: 0.110
stealthchop_threshold: 0

#####################################################################
#   Extruder
#####################################################################

##  Connected to EBBCan
##  Heater - HEATER
##  Thermistor - TH0
[extruder]
step_pin: EBBCan:gpio18
dir_pin: EBBCan:gpio19
enable_pin: !EBBCan:gpio17
rotation_distance: 22.407257 #CW2 calibrated
gear_ratio: 50:10 #Stealthburner/Clockwork 2
microsteps: 32
full_steps_per_rotation: 200    #200 for 1.8 degree, 400 for 0.9 degree
nozzle_diameter: 0.400
filament_diameter: 1.75
heater_pin: EBBCan:gpio7
sensor_type: ATC Semitec 104NT-4-R025H42G #E3D Revo Voron
sensor_pin: EBBCan:gpio27
#pullup_resistor: 2200
min_temp: 10
max_temp: 310
max_power: 1.0
min_extrude_temp: 180
#control = pid
#pid_kp = 26.213
#pid_ki = 1.304
#pid_kd = 131.721

# sensor_type: MAX31865
# sensor_pin: EBBCan:gpio9
# spi_software_sclk_pin: EBBCan:gpio10
# spi_software_mosi_pin: EBBCan:gpio8
# spi_software_miso_pin: EBBCan:gpio11
# rtd_nominal_r: 100
# rtd_reference_r: 430
# rtd_num_of_wires: 2

##  Connected to EBBCan
[tmc2209 extruder]
uart_pin: EBBCan:gpio20
interpolate: false
run_current: 0.6 #Moons CSE14HRA1L410A-01
sense_resistor: 0.110
stealthchop_threshold: 0

#####################################################################
#   Bed Heater
#####################################################################

[heater_bed]
heater_pin: PG11 # SSR Pin - HEATBED
sensor_type: Generic 3950 # Use "Generic 3950" for Keenovo heater
sensor_pin: PA1 #TH0
pullup_resistor: 2200 #LDO Leviathan pullup
max_power: 0.6
min_temp: 10
max_temp: 120
#control: pid
#pid_kp = 38.486
#pid_ki = 0.923
#pid_kd = 401.215

#####################################################################
#   Thermistors
#####################################################################

[temperature_sensor chamber]
sensor_type: Generic 3950
sensor_pin: PA2
pullup_resistor: 2200 #LDO Leviathan pullup

[temperature_sensor raspberry_pi]
sensor_type: temperature_host
min_temp: 10
max_temp: 100

[temperature_sensor EBB_NTC]
sensor_type: Generic 3950
sensor_pin: EBBCan:gpio28

#####################################################################
#   Cartographer
#####################################################################

[scanner]
#canbus_uuid: a8a32d1fc433
#speed: 2.0 #   Z probing dive speed.
#lift_speed: 5.0 #   Z probing lift speed.
#backlash_comp: 0.005025 #   Backlash compensation distance for removing Z backlash before measuring the sensor response.
#x_offset: 0.0 #   X offset of cartographer from the nozzle.
#y_offset: 21.1 #   Y offset of cartographer from the nozzle.
#trigger_distance: 2. #   cartographer trigger distance for homing.
#trigger_dive_threshold: 1.5 #   Threshold for range vs dive mode probing. Beyond `trigger_distance + trigger_dive_threshold` a dive will be used.
#trigger_hysteresis: 0.006 #   Hysteresis on trigger threshold for untriggering, as a percentage of the trigger threshold.
#cal_nozzle_z: 0.1 #   Expected nozzle offset after completing manual Z offset calibration.
#cal_floor: 0.1 #   Minimum z bound on sensor response measurement.
#cal_ceil: 5.0 #   Maximum z bound on sensor response measurement.
#cal_speed: 1.0 #   Speed while measuring response curve.
#cal_move_speed: 10.0 #   Speed while moving to position for response curve measurement.
#default_model_name: default #   Name of default cartographer model to load.
#mesh_main_direction: x #   Primary travel direction during mesh measurement.
#mesh_cluster_size: 1 #   Radius of mesh grid point clusters.
#mesh_runs: 2 #   Number of passes to make during mesh scan.
#detect_threshold_z: 3000  # This needs tuning
#calibration_method: tap 
#z_offset: 0.00
#probe_speed: 2.0
#tap_location: 150,149 # set to center of bed
#sensor: cartographer

[scanner]
canbus_uuid: a8a32d1fc433            
x_offset: 0                          
y_offset: 15                         
calibration_method: touch 
sensor: cartographer
sensor_alt: carto #alternate name to call commands. CARTO_TOUCH etc
#scanner_touch_z_offset: 0.05 #this is the default and will be overwritten and added to the DO NOT SAVE area by using UI to save z offset

#####################################################################
#   Probe
#####################################################################

#[probe]
##  Inductive Probe
##  Connected to Z-PROBE
##  This probe is not used for Z height, only Quad Gantry Leveling
#pin: ^PF1
#x_offset: 0
#y_offset: 25.0
#z_offset: 0
#speed: 10.0
#samples: 3
#samples_result: median
#sample_retract_dist: 3.0
#samples_tolerance: 0.006
#samples_tolerance_retries: 3

#[bltouch]
#sensor_pin: ^EBBCan:gpio21
#control_pin: EBBCan:gpio22

## NPN and PNP proximity switch types can be set by jumper
#[probe]
#pin: ^EBBCan:gpio6

#####################################################################
#   Fan Control
#####################################################################

[fan]
##  Print Cooling Fan - EBBCan
pin: EBBCan:gpio13
##tachometer_pin: PB0
kick_start_time: 0.5
##  Depending on your fan, you may need to increase this value
##  if your fan will not start. Can change cycle_time (increase)
##  if your fan is not able to slow down effectively
off_below: 0.10

[heater_fan hotend_fan]
##  Hotend Fan - EBBCan
pin: EBBCan:gpio14
##tachometer_pin: PB4
max_power: 1.0
kick_start_time: 0.5
heater: extruder
heater_temp: 50.0
##  If you are experiencing back flow, you can reduce fan_speed
#fan_speed: 1.0

[controller_fan controller_fan]
##  Controller fan - FAN2
pin: PF7
##tachometer_pin: PF6
max_power: 0.3
kick_start_time: 0.5
heater: heater_bed

#[fan_generic EBBCan_4W_FAN0]
#pin: EBBCan:gpio15
#tachometer_pin: EBBCan:gpio12
#tachometer_ppr: 1

#####################################################################
#   ADXL
#####################################################################

#[adxl345]
#cs_pin: scanner:PA3
#spi_bus: spi1

#[resonance_tester]
#accel_chip: adxl345
#probe_points:
#    152, 149, 20

[input_shaper]
shaper_freq_x: 66.8 # center frequency for the X axis filter
shaper_type_x: mzv # filter type for the X axis
shaper_freq_y: 50.4 # center frequency for the Y axis filter
shaper_type_y: mzv # filter type for the Y axis
damping_ratio_x: 0.045 # damping ratio for the X axis
damping_ratio_y: 0.044 # damping ratio for the Y axis

#####################################################################
#   Filament sensor
#####################################################################

#[filament_switch_sensor Filament]
#pause_on_runout: True
#runout_gcode: M600
#insert_gcode:
#event_delay: 3.0
#pause_delay: 0.5
#switch_pin: !PC0

#####################################################################
#   LED Control
#####################################################################

## Chamber Lighting (Optional)
## Connected to LED-STRIP
[output_pin caselight]
pin: PE6
pwm:true
hardware_pwm: False
value: 0.25 #startup value
shutdown_value: 0
cycle_time: 0.001

## Neopixel (Optional)
## Connected to NEOPIXEL
# [neopixel rgb_light]
# pin: PF10
# chain_count: 3
# color_order: GRBW
# initial_RED: 0.0
# initial_GREEN: 0.0
# initial_BLUE: 0.0
# initial_WHITE: 0.0

#####################################################################
#   Homing and Gantry Adjustment Routines
#####################################################################

[idle_timeout]
timeout: 1800

[safe_z_home]
home_xy_position: 150,149
z_hop: 10

##  Use QUAD_GANTRY_LEVEL to level a gantry.
[quad_gantry_level]

gantry_corners:
   -59,0
   361,380
##  Probe points
points:
   25,25
   25,250
   275,250
   275,25

speed: 200
horizontal_move_z: 10
retries: 5
retry_tolerance: 0.005
max_adjust: 10

[bed_mesh]
speed: 200  
horizontal_move_z: 15
mesh_min: 25, 25
mesh_max: 275,275
fade_start: 0.6
fade_end: 10.0
probe_count: 40,40
algorithm: bicubic
bicubic_tension: 0.2
#relative_reference_index: 60
zero_reference_position: 150.00, 149.00

########################################
# EXP1 / EXP2 (display) pins
########################################

[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PG9, EXP1_2=PG12,
    EXP1_3=PG13, EXP1_4=PG14,
    EXP1_5=PC13, EXP1_6=PC14,    # Slot in the socket on this side
    EXP1_7=PC15, EXP1_8=PF0,
    EXP1_9=<GND>, EXP1_10=<5V>,

    # EXP2 header
    EXP2_1=PA6, EXP2_2=PA5,
    EXP2_3=PE2, EXP2_4=PE4,
    EXP2_5=PE3, EXP2_6=PA7,      # Slot in the socket on this side
    EXP2_7=PE5, EXP2_8=<RST>,
    EXP2_9=<GND>, EXP2_10=PE4

#####################################################################
#   Displays
#####################################################################

#####################################################################
#   Macros
#####################################################################

#[gcode_macro PROBE_CALIBRATE]
#gcode:
#    CARTOGRAPHER_CALIBRATE

#[gcode_macro Carto_QGL] # safer and faster QGL for Cartographer
#gcode:
#    G28 # or use a conditional or safe homing
#    QUAD_GANTRY_LEVEL horizontal_move_z=10 retries=0 retry_tolerance=1.000
#    QUAD_GANTRY_LEVEL horizontal_move_z=3
#    G28 Z

[gcode_macro G32]
gcode:
    SAVE_GCODE_STATE NAME=STATE_G32
    G90
    G28
    QUAD_GANTRY_LEVEL
    G28
    G0 X150 Y150 Z30 F3600
    RESTORE_GCODE_STATE NAME=STATE_G32
   
[gcode_macro PRINT_START]
#   Use PRINT_START for the slicer starting script
gcode:
  #SET PARAMETERS
  {% set bedtemp = params.BED|int %}
  {% set hotendtemp = params.HOTEND|int %}
  {% set chambertemp = params.CHAMBER|default(0)|int %}
  {% set z_offset = params.ZOFFSET|default(0.000)|float %}
  #SETUP_KAMP_MESHING DISPLAY_PARAMETERS=1 LED_ENABLE=1 FUZZ_ENABLE=1 PROBE_DOCK_ENABLE=1
  #SETUP_LINE_PURGE DISPLAY_PARAMETERS=1 ADAPTIVE_ENABLE=1
  #TURN ON NEVERMORE IF USING ABS
  #  {% if params.MATERIAL == "ABS" %}
  #      SET_FAN_SPEED FAN=Nevermore SPEED=0.5
  #  {% endif %}
  #HOME THE PRINTER
  M117 Homing the printer...
  G90 #set absolute positioning
  M107 #turn off parts fan
  G28 #home all axis
  #MOVE HOTEND TO CENTRE FOR HEAT SOAK
  M117 Preparing for heat soak...
  G0 X149 Y150 Z100 F3600 #move hotend a sufficent distance from heated bed for heat soak
  M106 S255 #set part fan to full speed to circulate chamber air  
  #PRE-HEAT BED
  STATUS_HEATING #Set LED status
  M117 Preheating bed...
  M190 S{bedtemp} 
  #WAIT FOR CHAMBER TEMPERATURE
  M117 Waiting for chamber temperature...
  TEMPERATURE_WAIT SENSOR="temperature_sensor chamber" MINIMUM={chambertemp}
  M107 #turn off part fan
  #TRAM THE GANTRY
  M117 Quad gantry level...
  QUAD_GANTRY_LEVEL #QGL for v2.4
  G28 #home all axis
  #PRE-HEAT NOZZLE
  STATUS_HEATING #Set LED status
  M117 Preheating nozzle...
  M109 S190 #start warming the nozzle up
  #CLEAN NOZZLE
  STATUS_CLEANING #Set LED status
  M117 Cleaning nozzle...
  CLEAN_NOZZLE #requires brush/purge bucket, from decontaminator
  M117 Preparing nozzle for bed mesh...
  G0 Z25
  M106 S255 #set part fan to cool nozzle  
  M109 S150 #cool nozzle for tap
  M107  #turn off part fan 
  #BED MESH
  STATUS_MESHING
  M117 Bed meshing...
  BED_MESH_CLEAR
  BED_MESH_CALIBRATE
  #CLEAN NOZZLE
  STATUS_CLEANING #Set LED status
  M117 Cleaning nozzle...
  CLEAN_NOZZLE #requires brush/purge bucket, from decontaminator
  #PROBE CALIBRATE
  STATUS_CALIBRATING_Z
  M117 Calibrating Z probe...
  #G0 Z15
  G0 Z25
  G0 X150 Y149
  CARTOGRAPHER_TOUCH
  #LOAD SKEW CORRECTION
  #M117 Loading skew correction profile...
  #SKEW_PROFILE LOAD=CaliFlower
  #ADJUST Z OFFSET IF REQUIRED
  #M118 Setting Offset to { z_offset }
  #  {% if z_offset != 0 %}
  #   SET_GCODE_OFFSET Z_ADJUST={ z_offset }
  #  {% endif %}
  #MOVE TO FRONT AND HEAT NOZZLE
  G90
  G0 X2 Y20 F3600
  STATUS_HEATING #Set LED status
  M117 Heating hotend to printing temp...
  M109 S{hotendtemp}
  STATUS_PRINTING #Set LED status
  #PRINT PURGE LINE
  M117 Purging...
  #PURGE_LINE
  PURGE_LINE
  M117 Printing...
   
[gcode_macro PURGE_LINE]
gcode:
	G92 E0 #reset Extruder
    G1 X2 Y20 Z0.3 F6000 #move to start position
    G1 X2 Y200.0 Z0.3 F1500.0 E15 #draw the first line
    G92 E0 #reset Extruder
    G1 Z2.0 F3000 #raise Z to safe distance

[gcode_macro PREHEAT]
gcode:
  G90 #set absolute positioning
  G28 #home all axis
  QUAD_GANTRY_LEVEL #V2.4 
  G0 X150 Y150 Z100 F3600 ## Move hotend a sufficent distance from heated bed for heat soak
  M106 S255 #set parts fan to full speed, helps circulate chamber air
  STATUS_HEATING #Set LED status
  SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET=110 #For ABS

[gcode_macro PRINT_END]
#   Use PRINT_END for the slicer ending script - please customise for your slicer of choice
gcode:
    # safe anti-stringing move coords
    {% set th = printer.toolhead %}
    {% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
    {% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
    {% set z_safe = [th.position.z + 10, th.axis_maximum.z]|min %}
    
    SAVE_GCODE_STATE NAME=STATE_PRINT_END
    
    M400                           ; wait for buffer to clear
    G92 E0                         ; zero the extruder
    G1 E-5.0 F1800                 ; retract filament
    
    TURN_OFF_HEATERS
    
    G90                                      ; absolute positioning
    G0 X{x_safe} Y{y_safe} Z{z_safe} F20000  ; move nozzle to remove stringing
    G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y - 2} F3600  ; park nozzle at rear
    M107                                     ; turn off fan
    
    SET_SKEW CLEAR=1
    BED_MESH_CLEAR
    RESTORE_GCODE_STATE NAME=STATE_PRINT_END
    STATUS_OFF #Set LED status
    M117 Finished...

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 38.637
#*# pid_ki = 0.882
#*# pid_kd = 423.079
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 33.123
#*# pid_ki = 4.167
#*# pid_kd = 65.830
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  -0.026279, -0.025481, -0.016967, -0.015986, -0.007413, -0.004827, 0.003058, -0.001908, 0.002185, -0.008595, -0.005972, -0.014095, -0.010741, -0.011140, -0.000244, -0.000056, 0.005211, 0.005109, 0.006739, 0.008624, 0.014433, 0.013713, 0.017249, 0.008908, 0.010218, 0.001681, 0.002004, -0.005250, -0.004831, -0.013108, -0.009792, -0.017805, -0.021256, -0.027498, -0.033980, -0.042262, -0.046910, -0.054556, -0.059204, -0.066691
#*# 	  -0.029259, -0.032733, -0.025064, -0.021605, -0.014550, -0.012595, -0.004294, -0.009155, -0.003634, -0.012346, -0.010537, -0.017293, -0.014160, -0.014568, -0.004347, -0.003445, 0.001611, -0.000715, 0.002621, 0.005103, 0.011656, 0.009825, 0.013863, 0.006063, 0.008184, -0.000308, -0.000213, -0.006691, -0.006243, -0.014168, -0.012028, -0.020803, -0.023432, -0.033335, -0.038817, -0.050027, -0.051420, -0.059209, -0.064530, -0.074077
#*# 	  -0.037500, -0.036377, -0.029746, -0.026848, -0.020321, -0.016471, -0.008679, -0.012586, -0.007601, -0.014397, -0.013182, -0.020580, -0.016485, -0.017812, -0.007719, -0.006753, -0.001459, -0.003527, -0.003084, 0.000795, 0.005274, 0.004468, 0.009116, 0.000556, 0.003988, -0.003003, -0.004036, -0.009341, -0.009537, -0.018553, -0.017376, -0.026363, -0.029742, -0.040167, -0.045329, -0.055219, -0.055277, -0.063193, -0.065362, -0.078473
#*# 	  -0.038068, -0.039442, -0.029952, -0.028486, -0.017668, -0.019469, -0.008313, -0.014371, -0.007215, -0.013196, -0.010492, -0.019700, -0.014345, -0.017859, -0.007677, -0.008333, -0.003876, -0.003701, -0.001260, -0.000019, 0.004739, 0.003929, 0.009031, 0.001232, 0.004290, -0.003337, -0.003045, -0.008441, -0.008468, -0.018977, -0.018234, -0.027567, -0.030833, -0.043519, -0.045929, -0.056150, -0.057854, -0.065005, -0.067804, -0.080191
#*# 	  -0.042554, -0.043924, -0.033650, -0.033590, -0.022405, -0.021496, -0.012364, -0.013687, -0.006948, -0.015969, -0.013138, -0.021661, -0.016147, -0.018319, -0.011148, -0.010219, -0.004778, -0.006332, -0.002999, -0.003003, 0.003988, 0.000693, 0.006519, -0.000341, 0.001618, -0.004822, -0.004920, -0.010276, -0.008582, -0.018081, -0.019667, -0.030969, -0.033680, -0.043750, -0.049606, -0.058996, -0.062361, -0.070555, -0.072292, -0.087665
#*# 	  -0.047112, -0.047710, -0.035700, -0.036468, -0.024278, -0.026120, -0.010453, -0.015357, -0.003265, -0.014978, -0.014197, -0.025065, -0.018676, -0.021554, -0.011513, -0.011788, -0.007657, -0.009256, -0.004456, -0.003512, 0.001849, -0.000813, 0.004450, -0.001116, 0.000473, -0.006887, -0.005175, -0.010463, -0.010373, -0.019755, -0.022370, -0.030111, -0.032359, -0.041591, -0.046996, -0.061129, -0.063477, -0.073234, -0.076083, -0.090719
#*# 	  -0.048836, -0.049597, -0.038266, -0.039232, -0.029705, -0.029829, -0.014307, -0.012278, -0.004606, -0.009442, -0.016095, -0.025767, -0.020557, -0.023472, -0.012172, -0.012444, -0.006948, -0.010479, -0.006023, -0.005348, 0.001236, -0.001171, 0.004307, -0.002230, 0.000585, -0.007717, -0.006728, -0.012331, -0.009116, -0.019445, -0.019794, -0.024394, -0.024761, -0.038129, -0.046136, -0.064463, -0.067290, -0.076076, -0.078689, -0.092543
#*# 	  -0.052843, -0.053756, -0.042790, -0.041095, -0.032676, -0.031129, -0.020604, -0.018758, -0.005855, -0.012264, -0.009142, -0.024301, -0.021963, -0.023027, -0.012430, -0.012594, -0.008123, -0.010359, -0.006613, -0.003701, 0.000985, -0.001376, 0.002443, -0.003003, -0.001762, -0.008126, -0.006612, -0.014090, -0.010761, -0.019402, -0.016062, -0.018711, -0.025630, -0.038751, -0.054532, -0.067000, -0.068400, -0.077891, -0.081830, -0.095103
#*# 	  -0.055061, -0.055341, -0.046331, -0.044267, -0.034540, -0.034592, -0.022857, -0.026707, -0.012203, -0.015137, -0.013612, -0.018778, -0.021204, -0.026790, -0.015168, -0.015842, -0.010293, -0.012456, -0.006802, -0.006928, -0.001178, -0.003993, 0.000627, -0.004417, -0.002075, -0.010237, -0.010086, -0.017930, -0.014961, -0.017361, -0.012051, -0.022503, -0.029710, -0.051710, -0.061456, -0.073560, -0.074048, -0.084483, -0.087624, -0.101490
#*# 	  -0.059207, -0.061034, -0.050999, -0.048726, -0.039855, -0.038473, -0.026959, -0.030858, -0.022365, -0.025226, -0.014601, -0.023667, -0.015648, -0.027241, -0.019619, -0.020645, -0.014894, -0.016297, -0.011611, -0.010647, -0.006072, -0.009488, -0.004678, -0.007714, -0.005012, -0.013760, -0.015721, -0.023738, -0.016045, -0.019777, -0.019179, -0.031330, -0.043937, -0.059677, -0.067110, -0.078099, -0.079962, -0.091406, -0.094892, -0.107901
#*# 	  -0.066507, -0.066632, -0.057142, -0.056243, -0.047570, -0.044028, -0.033634, -0.033856, -0.028158, -0.033707, -0.023333, -0.026948, -0.019650, -0.021364, -0.023537, -0.022889, -0.019791, -0.020110, -0.016280, -0.016864, -0.012447, -0.014106, -0.008754, -0.016104, -0.011719, -0.018772, -0.019587, -0.019342, -0.014578, -0.024758, -0.024895, -0.044970, -0.050118, -0.062784, -0.072024, -0.082653, -0.087656, -0.097108, -0.100953, -0.112207
#*# 	  -0.068615, -0.068562, -0.061110, -0.059386, -0.049498, -0.048607, -0.036001, -0.034681, -0.029334, -0.031204, -0.028161, -0.028349, -0.018330, -0.020614, -0.012548, -0.018598, -0.018070, -0.018726, -0.017813, -0.018003, -0.013068, -0.014385, -0.010153, -0.014825, -0.012255, -0.018815, -0.013530, -0.015896, -0.015985, -0.026304, -0.032220, -0.045523, -0.048378, -0.060925, -0.071644, -0.082517, -0.087646, -0.096076, -0.100973, -0.109059
#*# 	  -0.069550, -0.067187, -0.060862, -0.058608, -0.053318, -0.049396, -0.039048, -0.036424, -0.027127, -0.030827, -0.025471, -0.030879, -0.019807, -0.015469, -0.009995, -0.006613, -0.013862, -0.016478, -0.015918, -0.014691, -0.012194, -0.012502, -0.009475, -0.013836, -0.011162, -0.010404, -0.007705, -0.014118, -0.015658, -0.031813, -0.030512, -0.042073, -0.045175, -0.056970, -0.069232, -0.082182, -0.086074, -0.096209, -0.098795, -0.104893
#*# 	  -0.070424, -0.067097, -0.059577, -0.058273, -0.050970, -0.049546, -0.037417, -0.034580, -0.025471, -0.029193, -0.022773, -0.030682, -0.023286, -0.018874, -0.008015, -0.008834, -0.006734, -0.016402, -0.016015, -0.015097, -0.012158, -0.013964, -0.008466, -0.012441, -0.006392, -0.008027, -0.007719, -0.013737, -0.021540, -0.031307, -0.029001, -0.038718, -0.043828, -0.057156, -0.066788, -0.083472, -0.087164, -0.095437, -0.097141, -0.106230
#*# 	  -0.074115, -0.069400, -0.062568, -0.059887, -0.052410, -0.050279, -0.038009, -0.036924, -0.028272, -0.031520, -0.023920, -0.031835, -0.025166, -0.027221, -0.014953, -0.014608, -0.013048, -0.018238, -0.016841, -0.014137, -0.011060, -0.014591, -0.011302, -0.014597, -0.006728, -0.015497, -0.013951, -0.027297, -0.025238, -0.034694, -0.032044, -0.040194, -0.047651, -0.060921, -0.070465, -0.087753, -0.089483, -0.099102, -0.100073, -0.110850
#*# 	  -0.077998, -0.074767, -0.067038, -0.065629, -0.057081, -0.052574, -0.042505, -0.040176, -0.032648, -0.035612, -0.029158, -0.035988, -0.030529, -0.032385, -0.026038, -0.023413, -0.018732, -0.015742, -0.010488, -0.002968, -0.003785, -0.002916, -0.005856, -0.012099, -0.013337, -0.021772, -0.025244, -0.032725, -0.030351, -0.037615, -0.035209, -0.044870, -0.051775, -0.066687, -0.078609, -0.095267, -0.098615, -0.108240, -0.107500, -0.116584
#*# 	  -0.082881, -0.079057, -0.071597, -0.068534, -0.060907, -0.056724, -0.047607, -0.043493, -0.034119, -0.036348, -0.031654, -0.037706, -0.033357, -0.034591, -0.027278, -0.023608, -0.019484, -0.008451, -0.004569, 0.009759, 0.009362, 0.010167, 0.006076, -0.004847, -0.013121, -0.024245, -0.027307, -0.032339, -0.029516, -0.038384, -0.038358, -0.047533, -0.055267, -0.068547, -0.081894, -0.097920, -0.102936, -0.111596, -0.112202, -0.121990
#*# 	  -0.085480, -0.077067, -0.070464, -0.066407, -0.060931, -0.057555, -0.047374, -0.039068, -0.031629, -0.032528, -0.029052, -0.035962, -0.030992, -0.032676, -0.026798, -0.022447, -0.018101, -0.007732, 0.000611, 0.004207, 0.013527, 0.007964, 0.006439, -0.005215, -0.012409, -0.022492, -0.023886, -0.029899, -0.029006, -0.036886, -0.037973, -0.045865, -0.054242, -0.064957, -0.080961, -0.097179, -0.102528, -0.110370, -0.113603, -0.124635
#*# 	  -0.080175, -0.073913, -0.067052, -0.062447, -0.056296, -0.053958, -0.042389, -0.035528, -0.027816, -0.028875, -0.025136, -0.030840, -0.026208, -0.027872, -0.019914, -0.011478, -0.010824, -0.002858, -0.000275, 0.005375, 0.007978, 0.003654, 0.003584, -0.002558, -0.007017, -0.009598, -0.015076, -0.023296, -0.024959, -0.034382, -0.034939, -0.043886, -0.048674, -0.062981, -0.077470, -0.092260, -0.099156, -0.106837, -0.112763, -0.122313
#*# 	  -0.078950, -0.074306, -0.067320, -0.062370, -0.055177, -0.052801, -0.040848, -0.034961, -0.028596, -0.028741, -0.026149, -0.032605, -0.025944, -0.022462, -0.007048, 0.005819, 0.010131, 0.012998, 0.011515, 0.018283, 0.015141, 0.017380, 0.014692, 0.014131, 0.015580, 0.012615, -0.000697, -0.012226, -0.023223, -0.033702, -0.035843, -0.045929, -0.052147, -0.064173, -0.077653, -0.091261, -0.099141, -0.107877, -0.114136, -0.123301
#*# 	  -0.082037, -0.077997, -0.070458, -0.064649, -0.057261, -0.051337, -0.041348, -0.037537, -0.030668, -0.031665, -0.029006, -0.034479, -0.028282, -0.018908, -0.004762, 0.013820, 0.019289, 0.014286, 0.017464, 0.020444, 0.018621, 0.019230, 0.017323, 0.018344, 0.019144, 0.012947, 0.002594, -0.014293, -0.025311, -0.037489, -0.039236, -0.049266, -0.054893, -0.069083, -0.080174, -0.093340, -0.098419, -0.106831, -0.114156, -0.123935
#*# 	  -0.082956, -0.079891, -0.072710, -0.065926, -0.058739, -0.053017, -0.044522, -0.040158, -0.034723, -0.034852, -0.032817, -0.036450, -0.032529, -0.027309, -0.014694, -0.005946, -0.000714, -0.008016, -0.005552, -0.005921, 0.000690, -0.003188, -0.000661, -0.003088, -0.002388, -0.008714, -0.015386, -0.027720, -0.030737, -0.040740, -0.042069, -0.052442, -0.058997, -0.072371, -0.082006, -0.095136, -0.099491, -0.107550, -0.113363, -0.123032
#*# 	  -0.081968, -0.078026, -0.072199, -0.065392, -0.058318, -0.049516, -0.042801, -0.038358, -0.034593, -0.036295, -0.033634, -0.036448, -0.031059, -0.030609, -0.023375, -0.018173, -0.015860, -0.017896, -0.017827, -0.015743, -0.011408, -0.011206, -0.009411, -0.012261, -0.012375, -0.018463, -0.024061, -0.032325, -0.030896, -0.040206, -0.041972, -0.053405, -0.059212, -0.072836, -0.081849, -0.091854, -0.098663, -0.108596, -0.112436, -0.122500
#*# 	  -0.083034, -0.076260, -0.070380, -0.065540, -0.056669, -0.049606, -0.042248, -0.040198, -0.035476, -0.037364, -0.036037, -0.038282, -0.031984, -0.030842, -0.018854, -0.015724, -0.012017, -0.017921, -0.019534, -0.015949, -0.013615, -0.014092, -0.012308, -0.013302, -0.011862, -0.019141, -0.021012, -0.034474, -0.033264, -0.041800, -0.043701, -0.054739, -0.060820, -0.074006, -0.082806, -0.094756, -0.100597, -0.108605, -0.114383, -0.122241
#*# 	  -0.082266, -0.075101, -0.070105, -0.062163, -0.055282, -0.049426, -0.042289, -0.038301, -0.034633, -0.037860, -0.034625, -0.039319, -0.034175, -0.026553, -0.015614, -0.010795, -0.012190, -0.018754, -0.019329, -0.017789, -0.015538, -0.015500, -0.015705, -0.014403, -0.012073, -0.013308, -0.017798, -0.027054, -0.033330, -0.043836, -0.045797, -0.055186, -0.062705, -0.074289, -0.083397, -0.093443, -0.101035, -0.106780, -0.113105, -0.119795
#*# 	  -0.079876, -0.072066, -0.066634, -0.058832, -0.053398, -0.047246, -0.038571, -0.036403, -0.033540, -0.035963, -0.034592, -0.036473, -0.029019, -0.023465, -0.016743, -0.014186, -0.018974, -0.020084, -0.020170, -0.015981, -0.014462, -0.014387, -0.013186, -0.013987, -0.016396, -0.014456, -0.017694, -0.021969, -0.023931, -0.040136, -0.045177, -0.053268, -0.059608, -0.068489, -0.080040, -0.089454, -0.097426, -0.102393, -0.109056, -0.115597
#*# 	  -0.073279, -0.066603, -0.062027, -0.055289, -0.049615, -0.042588, -0.036400, -0.032705, -0.030722, -0.034001, -0.032640, -0.026627, -0.023232, -0.020610, -0.018648, -0.019910, -0.019705, -0.018710, -0.018378, -0.014084, -0.012171, -0.012398, -0.010324, -0.010431, -0.014182, -0.015929, -0.013908, -0.018673, -0.016033, -0.028021, -0.039437, -0.047477, -0.053389, -0.064583, -0.075119, -0.083757, -0.092594, -0.094224, -0.101928, -0.109187
#*# 	  -0.068599, -0.062627, -0.057630, -0.050227, -0.046947, -0.038365, -0.034121, -0.030762, -0.027529, -0.030606, -0.023575, -0.023873, -0.019854, -0.022124, -0.023255, -0.017813, -0.017809, -0.014883, -0.015992, -0.012077, -0.009337, -0.008599, -0.007290, -0.007636, -0.011312, -0.014759, -0.018475, -0.018044, -0.017998, -0.021393, -0.029250, -0.041860, -0.050556, -0.059045, -0.070359, -0.079100, -0.085838, -0.088541, -0.095253, -0.102771
#*# 	  -0.063737, -0.057088, -0.053480, -0.044949, -0.044166, -0.034910, -0.029941, -0.027596, -0.024702, -0.022845, -0.019733, -0.020147, -0.020085, -0.026551, -0.023205, -0.018235, -0.017215, -0.014122, -0.015991, -0.009504, -0.008336, -0.009227, -0.007075, -0.008161, -0.010640, -0.015897, -0.019503, -0.024116, -0.017107, -0.021349, -0.023291, -0.033884, -0.047175, -0.058124, -0.068264, -0.076626, -0.083336, -0.087333, -0.091398, -0.099618
#*# 	  -0.060875, -0.053909, -0.050508, -0.043869, -0.040341, -0.032728, -0.028592, -0.025709, -0.017887, -0.019793, -0.018690, -0.024309, -0.026768, -0.028056, -0.023406, -0.019177, -0.018578, -0.016555, -0.016005, -0.014064, -0.010352, -0.010348, -0.008574, -0.009819, -0.014008, -0.018734, -0.021552, -0.028402, -0.025052, -0.023610, -0.026191, -0.030906, -0.042546, -0.059172, -0.068568, -0.078186, -0.083653, -0.088570, -0.093202, -0.102914
#*# 	  -0.062143, -0.054501, -0.049311, -0.042074, -0.040039, -0.035493, -0.029281, -0.021474, -0.016005, -0.021089, -0.022657, -0.035509, -0.032592, -0.031817, -0.028660, -0.022499, -0.021930, -0.018771, -0.019678, -0.015636, -0.013782, -0.012606, -0.012134, -0.012613, -0.017458, -0.020434, -0.026913, -0.030454, -0.031242, -0.034142, -0.030737, -0.035991, -0.041070, -0.055272, -0.072515, -0.078007, -0.085175, -0.088773, -0.094819, -0.102077
#*# 	  -0.062716, -0.053404, -0.048020, -0.042106, -0.039997, -0.032061, -0.024562, -0.019892, -0.017875, -0.025692, -0.032357, -0.034596, -0.032822, -0.031518, -0.027725, -0.023123, -0.022402, -0.019692, -0.020708, -0.015948, -0.013247, -0.014249, -0.014939, -0.013861, -0.017768, -0.020654, -0.027325, -0.030433, -0.032292, -0.036242, -0.038289, -0.036514, -0.045093, -0.051977, -0.066643, -0.076760, -0.083735, -0.086682, -0.094058, -0.098994
#*# 	  -0.057059, -0.050946, -0.046083, -0.039732, -0.036522, -0.026931, -0.020090, -0.018501, -0.016755, -0.025073, -0.028956, -0.029104, -0.029408, -0.027008, -0.023876, -0.018632, -0.021290, -0.015238, -0.016401, -0.010099, -0.009908, -0.008383, -0.012283, -0.009490, -0.013850, -0.017210, -0.022278, -0.026977, -0.028663, -0.033550, -0.036979, -0.042092, -0.040265, -0.051501, -0.059094, -0.069371, -0.078988, -0.082162, -0.090421, -0.095013
#*# 	  -0.049271, -0.041160, -0.040196, -0.032663, -0.029892, -0.021464, -0.017774, -0.014287, -0.015554, -0.017748, -0.020643, -0.020349, -0.020734, -0.019457, -0.015422, -0.008587, -0.010472, -0.006318, -0.009455, -0.002485, -0.003089, -0.001165, -0.004868, -0.004406, -0.008285, -0.012186, -0.016221, -0.020805, -0.022932, -0.027112, -0.030672, -0.037293, -0.043993, -0.050048, -0.057316, -0.064724, -0.072420, -0.075147, -0.082363, -0.087524
#*# 	  -0.042031, -0.036452, -0.033760, -0.028562, -0.024487, -0.014673, -0.014500, -0.010902, -0.012426, -0.014784, -0.014850, -0.017435, -0.017018, -0.014573, -0.011996, -0.004876, -0.005044, -0.002581, -0.003943, 0.002210, 0.001694, 0.002264, -0.000894, -0.000506, -0.006426, -0.007746, -0.014090, -0.020117, -0.019530, -0.024456, -0.028997, -0.034599, -0.041100, -0.049354, -0.057589, -0.061933, -0.069025, -0.072433, -0.079012, -0.085600
#*# 	  -0.040420, -0.035566, -0.032621, -0.025374, -0.023487, -0.014066, -0.012792, -0.010336, -0.011892, -0.012052, -0.012645, -0.015284, -0.016287, -0.015017, -0.010607, -0.004649, -0.004865, -0.001072, -0.004647, 0.003365, 0.002704, 0.003975, 0.000285, -0.000315, -0.005288, -0.006828, -0.012019, -0.016274, -0.018690, -0.022991, -0.027088, -0.032033, -0.038865, -0.046253, -0.056338, -0.061313, -0.067603, -0.070645, -0.077876, -0.085216
#*# 	  -0.041997, -0.036093, -0.033885, -0.025722, -0.024971, -0.016389, -0.015449, -0.012347, -0.012653, -0.013888, -0.014145, -0.015924, -0.017283, -0.014007, -0.010317, -0.003161, -0.002845, -0.001164, -0.003178, 0.002750, 0.002639, 0.002670, -0.000273, -0.000345, -0.004332, -0.005841, -0.011751, -0.014570, -0.017817, -0.021353, -0.025348, -0.030521, -0.037889, -0.044979, -0.056717, -0.061363, -0.066374, -0.070386, -0.076085, -0.083526
#*# 	  -0.038452, -0.032291, -0.032140, -0.024175, -0.022993, -0.015275, -0.014192, -0.010047, -0.009722, -0.010730, -0.012522, -0.011612, -0.014077, -0.009530, -0.006955, 0.000931, -0.000987, 0.002386, -0.001229, 0.004479, 0.002545, 0.003653, 0.001006, 0.002552, -0.001507, -0.003000, -0.007215, -0.011638, -0.016195, -0.019854, -0.022401, -0.027350, -0.035200, -0.042031, -0.053645, -0.057983, -0.064612, -0.068345, -0.074038, -0.079890
#*# 	  -0.034614, -0.027496, -0.028075, -0.021435, -0.020492, -0.012732, -0.010754, -0.008538, -0.007575, -0.009687, -0.009566, -0.010639, -0.009077, -0.007602, -0.004403, 0.002567, 0.002331, 0.004322, 0.000814, 0.004377, 0.004404, 0.005805, 0.003229, 0.003463, 0.000528, -0.002323, -0.007176, -0.011660, -0.012667, -0.018067, -0.021787, -0.027316, -0.033120, -0.041129, -0.051920, -0.055969, -0.062320, -0.067948, -0.072147, -0.077942
#*# 	  -0.029091, -0.023633, -0.023348, -0.018703, -0.017960, -0.010400, -0.006731, -0.003522, -0.004752, -0.007986, -0.006676, -0.008085, -0.006893, -0.004709, -0.001517, 0.006054, 0.003945, 0.006210, 0.002666, 0.007560, 0.005268, 0.008550, 0.004361, 0.005611, 0.000594, -0.001811, -0.008920, -0.012205, -0.012623, -0.017231, -0.021108, -0.025791, -0.033402, -0.036648, -0.049398, -0.054052, -0.061295, -0.065676, -0.072003, -0.076655
#*# x_count = 40
#*# y_count = 40
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 25.0
#*# max_x = 275.0
#*# min_y = 25.0
#*# max_y = 275.0
#*#
#*# [skew_correction CaliFlower]
#*# xy_skew = -0.00010025614237236026
#*# xz_skew = 0.0
#*# yz_skew = 0.0
#*#
#*# [scanner model default]
#*# model_coef = 1.4558300392850423,
#*# 	1.8580917672547541,
#*# 	0.7314163478921207,
#*# 	0.3501754248116328,
#*# 	0.3049922966792526,
#*# 	0.2882561746257051,
#*# 	-0.08215625021838704,
#*# 	-0.18439699139429178,
#*# 	0.13974931102826033,
#*# 	0.14068156642818785
#*# model_domain = 3.225238330252059e-07,3.345235688886699e-07
#*# model_range = 0.100000,5.000000
#*# model_temp = 46.268280
#*# model_offset = 0.00000
#*#
#*# [scanner]
#*# scanner_touch_threshold = 3000
#*# scanner_touch_z_offset = 0.045
